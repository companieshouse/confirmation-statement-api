{
	"info": {
		"_postman_id": "537296ed-d70d-4ae0-a65f-307c995775ae",
		"name": "Confirmation Statement API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "29886689"
	},
	"item": [
		{
			"name": "Check Eligibilty",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "default"
					},
					{
						"key": "X-Request-Id",
						"value": "123",
						"type": "default"
					},
					{
						"key": "ERIC-identity",
						"value": "1234",
						"type": "default"
					},
					{
						"key": "Authorization",
						"value": "",
						"type": "default",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/confirmation-statement/company/13397175/eligibility",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"confirmation-statement",
						"company",
						"13397175",
						"eligibility"
					],
					"query": [
						{
							"key": "",
							"value": "",
							"disabled": true
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Transaction",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"var transaction_id = jsonData.id;",
							"pm.environment.set(\"transaction_id\", jsonData.id);",
							"console.log(\"A new transaction has been created \" + transaction_id);",
							"",
							"console.log(\"...........................\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"company_number\":\"13397175\",\n     \"reference\":\"cs\",\n    \"description\":\"Mandatory transaction description\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/transactions",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create Confirmation Statement",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"pm.environment.set(\"confirmation_statement_id\", jsonData.id);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Statement of Capital",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}/statement-of-capital",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}",
						"statement-of-capital"
					]
				}
			},
			"response": []
		},
		{
			"name": "Costs",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}/costs",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}",
						"costs"
					]
				}
			},
			"response": []
		},
		{
			"name": "REA",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}//transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}/registered-email-address",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"",
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}",
						"registered-email-address"
					]
				}
			},
			"response": []
		},
		{
			"name": "CS Confirm Everything",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{   \"id\": \"{{confirmation_statement_id}}\",\n    \"data\":{\n        \"confirmation_statement_made_up_to_date\": \"2022-05-13\",\n        \"statement_of_capital_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"persons_significant_control_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"sic_code_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"registered_office_address_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"registered_email_address_data\": {\n            \"registered_email_address\": \"testemail@test.com\",\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"active_officer_details_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"shareholder_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"register_locations_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"trading_status_data\": {\n            \"trading_status_answer\": true\n        }\n    },\n    \"links\": {\n        \"self\": \"/transactions/{{transaction_id}}//confirmation-statement/{{confirmation_statement_id}}\"\n    }\n}\n\n\n"
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "CS Confirm Everything with Recent Address",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{   \"id\": \"{{confirmation_statement_id}}\",\n    \"data\":{\n        \"confirmation_statement_made_up_to_date\": \"2022-05-13\",\n        \"statement_of_capital_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"persons_significant_control_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"sic_code_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"registered_office_address_data\": {\n            \"section_status\": \"RECENT_FILING\"\n        },\n        \"registered_email_address_data\": {\n            \"registered_email_address\": \"testemail@test.com\",\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"active_officer_details_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"shareholder_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"register_locations_data\": {\n            \"section_status\": \"CONFIRMED\"\n        },\n        \"trading_status_data\": {\n            \"trading_status_answer\": true\n        }\n    },\n    \"links\": {\n        \"self\": \"/transactions/{{transaction_id}}//confirmation-statement/{{confirmation_statement_id}}\"\n    }\n}\n\n\n"
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "CS Confirm REA",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{   \"id\": \"{{confirmation_statement_id}}\",\n    \"data\":{\n        \"confirmation_statement_made_up_to_date\": \"2022-05-13\",\n        \"registered_email_address_data\": {\n            \"registered_email_address\": \"testemail@test.com\",\n            \"section_status\": \"CONFIRMED\"\n        }\n    },\n    \"links\": {\n        \"self\": \"/transactions/{{transaction_id}}//confirmation-statement/{{confirmation_statement_id}}\"\n    }\n}\n\n\n"
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "CS First Time Supply REA",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{   \"id\": \"{{confirmation_statement_id}}\",\n    \"data\":{\n        \"confirmation_statement_made_up_to_date\": \"2022-05-13\",\n        \"registered_email_address_data\": {\n            \"registered_email_address\": \"testemail@test.com\",\n            \"section_status\": \"INITIAL_FILING\"\n        }        \n    },\n    \"links\": {\n        \"self\": \"/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}\"\n    }\n}\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "CS Change REA",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "",
						"type": "text"
					},
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{   \"id\": \"{{confirmation_statement_id}}\",\n    \"data\":{\n        \"confirmation_statement_made_up_to_date\": \"2022-05-13\",\n        \"registered_email_address_data\": {\n            \"registered_email_address\": \"testemail@test.com\",\n            \"section_status\": \"RECENT_FILING\"\n        }\n    },\n    \"links\": {\n        \"self\": \"/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}\"\n    }\n}\n\n\n"
				},
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Confirmation Statement",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Filings",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}/filings",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}",
						"filings"
					]
				}
			},
			"response": []
		},
		{
			"name": "Validation Status",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/transactions/{{transaction_id}}/confirmation-statement/{{confirmation_statement_id}}/validation-status",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"transactions",
						"{{transaction_id}}",
						"confirmation-statement",
						"{{confirmation_statement_id}}",
						"validation-status"
					]
				}
			},
			"response": []
		},
		{
			"name": "Close Transaction",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"var transaction_id = jsonData.id;",
							"pm.environment.set(\"transaction_id\", jsonData.id);",
							"console.log(\"A new transaction has been created \" + transaction_id);",
							"",
							"console.log(\"...........................\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disabledSystemHeaders": {}
			},
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n   \"status\":\"closed\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{transaction_url}}/transactions/163713-248416-915796",
					"host": [
						"{{transaction_url}}"
					],
					"path": [
						"transactions",
						"163713-248416-915796"
					]
				}
			},
			"response": []
		}
	],
	"auth": {
		"type": "oauth2",
		"oauth2": [
			{
				"key": "scope",
				"value": "{{cs_scope}}",
				"type": "string"
			},
			{
				"key": "clientSecret",
				"value": "{{cs_client_secret}}",
				"type": "string"
			},
			{
				"key": "clientId",
				"value": "{{cs_client_id}}",
				"type": "string"
			},
			{
				"key": "redirect_uri",
				"value": "https://www.getpostman.com/oauth2/callback",
				"type": "string"
			},
			{
				"key": "authUrl",
				"value": "{{auth_url}}",
				"type": "string"
			},
			{
				"key": "accessTokenUrl",
				"value": "{{access_token_url}}",
				"type": "string"
			},
			{
				"key": "refreshRequestParams",
				"value": [],
				"type": "any"
			},
			{
				"key": "tokenRequestParams",
				"value": [],
				"type": "any"
			},
			{
				"key": "authRequestParams",
				"value": [],
				"type": "any"
			},
			{
				"key": "challengeAlgorithm",
				"value": "S256",
				"type": "string"
			},
			{
				"key": "grant_type",
				"value": "authorization_code",
				"type": "string"
			},
			{
				"key": "addTokenTo",
				"value": "header",
				"type": "string"
			},
			{
				"key": "client_authentication",
				"value": "header",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}